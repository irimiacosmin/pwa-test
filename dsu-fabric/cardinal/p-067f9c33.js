const s=new class{constructor(){this.controllers={},this.pendingControllerRequests={}}registerController(s,t){this.controllers[s]=t,this._fullFillPreviousRequests(s)}_fullFillPreviousRequests(s){if(this.pendingControllerRequests[s])for(;this.pendingControllerRequests[s].length;)this.pendingControllerRequests[s].pop().resolve(this.controllers[s])}getController(s){return new Promise((t,i)=>{if(this.controllers[s])t(this.controllers[s]);else{let o=`scripts/controllers/${s}.js`;if(void 0!==window.basePath){let s="/";window.basePath[window.basePath.length-1]===s&&(s=""),o=window.basePath+s+o}import(o).then(s=>{t(s.default||s)}).catch(i)}})}};export{s as C}