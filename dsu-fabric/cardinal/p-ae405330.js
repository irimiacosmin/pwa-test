import{g as e}from"./p-83ba3037.js";import{b as t}from"./p-1b1d03ce.js";const n=/@import.*?["']([^"']+)["'].*?;/g;let o,s={},l={};function c(e){return new Promise((t,n)=>{fetch(e).then(e=>{if(e.ok)return t(e.text());n({url:e.url,status:e.status,statusText:e.statusText})})})}const i=function(){let t=e=>{let t={};e.addEventListener("styleExists",n=>{n.stopImmediatePropagation(),n.preventDefault();let o=n.detail.componentTag;(0,n.detail.callback)(void 0,t.hasOwnProperty(o),e),t[o]||(t[o]=!0)}),e.addEventListener("componentWasRemoved",e=>{let n=e.detail.componentTag;t[n]&&delete t[n]})};return t(document.querySelector("body")),i=>{const{componentWillLoad:r,disconnectedCallback:m}=i;i.componentWillLoad=function(){const i=e(this);if(i){let e=e=>{let o=i.tagName.toLowerCase(),m=t=>new Promise(i=>{let m=window.basePath+"themes/"+e+"/components/"+o+"/"+o+".css";s[m]||(s[m]=new Promise((e,t)=>{c(m).then(t=>{e(t)}).catch(t)})),s[m].then(e=>{var o,i;(o=m,i=e,l[o]||(l[o]=new Promise((e,t)=>{n.exec(i)?i.replace(n,(n,o)=>{s[o]||(s[o]=c(o)),s[o].then(t=>{e(i.replace(n,t))}).catch(t)}):e(i)})),l[o]).then(e=>{let n=document.createElement("style");n.innerHTML=e,t.append(n)})}).catch(e=>{console.log(`Request on resource ${e.url} ended with status: ${e.status} (${e.statusText})`)}).finally(()=>{i(r&&r.call(this))})});return i.shadowRoot?(t(i),m(i.shadowRoot)):new Promise(i.isConnected?e=>{let t=function e(t,n){return!!n&&(n.shadowRoot?t.parentNode===n.shadowRoot.host:e(n,n.parentElement))}(i,i.parentElement);i.isSlotted=t;let n=new CustomEvent("styleExists",{bubbles:!0,cancelable:!0,composed:!0,detail:{callback:(n,o,s)=>{n?console.log(n):o?e(r&&r.call(this)):(t||(s=s.shadowRoot),m(s).then(()=>{e()}))},componentTag:t?"SLOTTED:"+o:o}});i.dispatchEvent(n)}:e=>{e(r&&r.call(this))})};return o?e(o):new Promise(t=>{let n=new CustomEvent("getThemeConfig",{bubbles:!0,cancelable:!0,composed:!0,detail:(n,s)=>{if(n)return console.log(n);o=s,e(o).then(()=>{t()})}});i.dispatchEvent(n)})}return r&&r.call(this)},i.disconnectedCallback=function(){const t=e(this);let n=t.tagName.toLowerCase();t.isSlotted&&(n="SLOTTED:"+n);let o=new CustomEvent("componentWasRemoved",{bubbles:!0,cancelable:!0,composed:!0,detail:{componentTag:n}});t.dispatchEvent(o),m&&m.call(this)}}};export{i as C}